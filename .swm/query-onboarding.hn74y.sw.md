---
id: hn74y
name: query onboarding
file_version: 1.0.2
app_version: 0.7.6-0
file_blobs:
  query/graphql/planner/planner.go: 1315a4aef1126dac0fc513542f308ea316cfde9a
---

`planNode`[<sup id="1pGEcQ">â†“</sup>](#f-1pGEcQ) is the top-level interface for the `ðŸ“„ query`package and is influenced by the [Volcano paper](https://paperhub.s3.amazonaws.com/dace52a42c07f7f8348b08dc2b186061.pdf).
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ query/graphql/planner/planner.go
```go
â¬œ 26     	log = logging.MustNewLogger("defra.query.planner")
â¬œ 27     )
â¬œ 28     
ðŸŸ© 29     // planNode is an interface all nodes in the plan tree need to implement
ðŸŸ© 30     type planNode interface {
ðŸŸ© 31     	// Initializes or Re-Initializes an existing planNode
ðŸŸ© 32     	// Often called internally by Start()
ðŸŸ© 33     	Init() error
ðŸŸ© 34     
ðŸŸ© 35     	// Starts any internal logic or processes
ðŸŸ© 36     	// required by the plan node.
ðŸŸ© 37     	Start() error
ðŸŸ© 38     
ðŸŸ© 39     	// Next processes the next result doc from
ðŸŸ© 40     	// the query. Can only be called *after*
ðŸŸ© 41     	// Start(). Can't be called again if any
ðŸŸ© 42     	// previous call returns false.
ðŸŸ© 43     	Next() (bool, error)
ðŸŸ© 44     
ðŸŸ© 45     	// Spans sets the planNodes target
ðŸŸ© 46     	// spans. This is primarily only used
ðŸŸ© 47     	// for a scanNode, but based on the tree
ðŸŸ© 48     	// structure, may need to be propagated
ðŸŸ© 49     	// Eg. From a selectNode -> scanNode.
ðŸŸ© 50     	Spans(core.Spans)
ðŸŸ© 51     
ðŸŸ© 52     	// returns the value of the current doc
ðŸŸ© 53     	// processed by the executor
ðŸŸ© 54     	Values() map[string]interface{}
ðŸŸ© 55     
ðŸŸ© 56     	// Source returns the child planNode that
ðŸŸ© 57     	// generates the source values for this plan.
ðŸŸ© 58     	// If a plan has no source, return nil
ðŸŸ© 59     	Source() planNode
ðŸŸ© 60     
ðŸŸ© 61     	// Close terminates the planNode execution releases its resources.
ðŸŸ© 62     	Close() error
ðŸŸ© 63     }
â¬œ 64     
â¬œ 65     // basic plan Node that implements the planNode interface
â¬œ 66     // can be added to any struct to turn it into a planNode
â¬œ 67     type baseNode struct { //nolint:unused
```

<br/>

<!-- THIS IS AN AUTOGENERATED SECTION. DO NOT EDIT THIS SECTION DIRECTLY -->
### Swimm Note

<span id="f-1pGEcQ">planNode</span>[^](#1pGEcQ) - "query/graphql/planner/planner.go" L29
```go
// planNode is an interface all nodes in the plan tree need to implement
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBZGVmcmFkYiUzQSUzQXNvdXJjZW5ldHdvcms=/docs/hn74y).