# This is an exmaple schema for DefraDB GraphQL Query Language.
# It is the design of the auto-generated schema for a given developer
# defined type.

# Target type autogenerated from
# Book
type Book @collection("books") {
    title: String
    genre: String
    description: String
    rating: String
    author: Author
}

type Author @collection("authors") {
    name: String
    books: [Book]
}

# Order by input options
enum OrderingInput {
    ASC
    DESC
}

# Value Operators
enum ValueOperatorInput {
    _eq     # Equal to
    _neq    # Not equal to
    _gt     # Greater than
    _gte    # Greater than or equal to
    _lt     # Less than
    _lte    # Less than or equal to
    _in     # In the list
    _nin    # Non in the list
    _like   # sub string like
}

# Generic definition for all query input options
# Will be extended from to implement developer defined types
input GenericQueryInput {
    filter: GenericFilterArg
    groupBy: [GenericGroupByArg]
    having: GenericHavingArg
    order: GenericOrderArg
    limit: GenericLimitArg
    offset: GenericOffsetArg
    cursor: GenericCursorArg
}

# Conditional operators
interface ConditionalBlockInterface {
    _or: [ConditionalBlock!]
    _and: [ConditionalBlock!]
    _not: ConditionalBlock
}


type GenericFilterBlock implements ConditionalBlockInterface {

}

# Filter arguments
type GenericFilterArg {
    _or: [GenericFilterBlock!]
    _and: [GenericFilterBlock!]
    _not: GenericFilterBlock
}